import "dotenv/config";

// Legacy addresses (keeping for backward compatibility)
export const DUTCH_AUCTION_REACTOR =
  "0x00000000cc92DA57667f6Aad16AbBe9A93a798f0";

export const LIMIT_ORDER_REACTOR = "0x0000000035eb820252C699925Af8ABfad1a97318";

export const BITCOIN_ORACLE = "0x000000Ee3Edef26AB5B58922406A2C409661fe23";

export const PERMIT2_ADDRESS = "0x000000000022D473030F116dDEE9F6B43aC78BA3";

export const BTC_TOKEN_ADDRESS_PREFIX =
  "0x000000000000000000000000BC0000000000000000000000000000000000";

export const BITCOIN_IDENTIFIER =
  "000000000000000000000000BC0000000000000000000000000000000000".toLowerCase();

export const DEFAULT_UW_INCENTIVE = 0.01; // 1%

// Environment variables
export const SOLVER_ADDRESS = process.env.SOLVER_ADDRESS;
if (!SOLVER_ADDRESS) {
  throw new Error("SOLVER_ADDRESS is not defined");
}

export const BASE_RPC_URL = process.env.BASE_RPC_URL;
if (!BASE_RPC_URL) {
  throw new Error("BASE_RPC_URL is not defined");
}
export const ETH_RPC_URL = process.env.ETH_RPC_URL;
if (!ETH_RPC_URL) {
  throw new Error("ETH_RPC_URL is not defined");
}
export const SOLVER_PK = process.env.SOLVER_PK;
if (!SOLVER_PK) {
  throw new Error("SOLVER_PK is not defined");
}

export const OZ_RELAYER_API_KEY = process.env.OZ_RELAYER_API_KEY;
export const OZ_RELAYER_API_SECRET = process.env.OZ_RELAYER_API_SECRET;

// New Catalyst v1 Configuration
// Chain IDs
export const CHAIN_IDS = {
  SEPOLIA: 11155111,
  BASE_SEPOLIA: 84532,
  OPTIMISM_SEPOLIA: 11155420,
  ARBITRUM_SEPOLIA: 421614,
} as const;

// Updated contract addresses for Catalyst v1
export const CATALYST_SETTLER_ADDRESS: Record<number, string> = {
  [CHAIN_IDS.SEPOLIA]: "0xb0567293b367e8Ed99cd44cDa1743980F2e6BBB2",
  [CHAIN_IDS.BASE_SEPOLIA]: "0xb0567293b367e8Ed99cd44cDa1743980F2e6BBB2",
  [CHAIN_IDS.OPTIMISM_SEPOLIA]: "0xb0567293b367e8Ed99cd44cDa1743980F2e6BBB2",
  [CHAIN_IDS.ARBITRUM_SEPOLIA]: "0xb0567293b367e8Ed99cd44cDa1743980F2e6BBB2",
};

export const COMPACT_ADDRESS: Record<number, string> = {
  [CHAIN_IDS.SEPOLIA]: "0x00000000ADAC8C61dF5aDcE7B8d8aC9eac95b09d",
  [CHAIN_IDS.BASE_SEPOLIA]: "0x00000000ADAC8C61dF5aDcE7B8d8aC9eac95b09d",
  [CHAIN_IDS.OPTIMISM_SEPOLIA]: "0x00000000ADAC8C61dF5aDcE7B8d8aC9eac95b09d",
  [CHAIN_IDS.ARBITRUM_SEPOLIA]: "0x00000000ADAC8C61dF5aDcE7B8d8aC9eac95b09d",
};

export const WORMHOLE_ORACLE_ADDRESS: Record<number, string> = {
  [CHAIN_IDS.SEPOLIA]: "0x98f3c9e6E3fAce36bAAd05FE09d375Ef1464288B",
  [CHAIN_IDS.BASE_SEPOLIA]: "0x98f3c9e6E3fAce36bAAd05FE09d375Ef1464288B",
  [CHAIN_IDS.OPTIMISM_SEPOLIA]: "0x98f3c9e6E3fAce36bAAd05FE09d375Ef1464288B",
  [CHAIN_IDS.ARBITRUM_SEPOLIA]: "0x98f3c9e6E3fAce36bAAd05FE09d375Ef1464288B",
};

export const POLYMER_ORACLE_ADDRESS = {
  [CHAIN_IDS.SEPOLIA]: "0xca200b41459BF9a1C7EA7F1F22610281Bfb3a8AB",
  [CHAIN_IDS.BASE_SEPOLIA]: "0xca200b41459BF9a1C7EA7F1F22610281Bfb3a8AB",
  [CHAIN_IDS.OPTIMISM_SEPOLIA]: "0xca200b41459BF9a1C7EA7F1F22610281Bfb3a8AB",
  [CHAIN_IDS.ARBITRUM_SEPOLIA]: "0xca200b41459BF9a1C7EA7F1F22610281Bfb3a8AB",
};

export const COIN_FILLER_ADDRESS: Record<number, string> = {
  [CHAIN_IDS.SEPOLIA]: "0x00000000cDd3B32d6eAc30AD7E3c3A26FD1b9e0F",
  [CHAIN_IDS.BASE_SEPOLIA]: "0x00000000cDd3B32d6eAc30AD7E3c3A26FD1b9e0F",
  [CHAIN_IDS.OPTIMISM_SEPOLIA]: "0x00000000cDd3B32d6eAc30AD7E3c3A26FD1b9e0F",
  [CHAIN_IDS.ARBITRUM_SEPOLIA]: "0x00000000cDd3B32d6eAc30AD7E3c3A26FD1b9e0F",
};

// Token addresses
export const USDC_ADDRESS: Record<number, string> = {
  [CHAIN_IDS.SEPOLIA]: "0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",
  [CHAIN_IDS.BASE_SEPOLIA]: "0x036CbD53842c5426634e7929541eC2318f3dCF7e",
  [CHAIN_IDS.OPTIMISM_SEPOLIA]: "0x5fd84259d66Cd46123540766Be93DFE6D43130D7",
  [CHAIN_IDS.ARBITRUM_SEPOLIA]: "0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d",
};

export const USDT_ADDRESS: Record<number, string> = {
  [CHAIN_IDS.SEPOLIA]: "0xaA8E23Fb1079EA71e0a56F48a2aA51851D8433D0",
  [CHAIN_IDS.BASE_SEPOLIA]: "0xf72006e25119C8b8a5B5dbaDc0f9c5Dd5fa33e4B",
  [CHAIN_IDS.OPTIMISM_SEPOLIA]: "0x8fBee0A9D12db47D43DE395C8aA57a7493a6CE73",
  [CHAIN_IDS.ARBITRUM_SEPOLIA]: "0x6A9D37b5A6d71d67cCE14F98B75066Ea1b9bF8ff",
};

export const WETH_ADDRESS: Record<number, string> = {
  [CHAIN_IDS.SEPOLIA]: "0xfFf9976782d46CC05630D1f6eBAb18b2324d6B14",
  [CHAIN_IDS.BASE_SEPOLIA]: "0x4200000000000000000000000000000000000006",
  [CHAIN_IDS.OPTIMISM_SEPOLIA]: "0x4200000000000000000000000000000000000006",
  [CHAIN_IDS.ARBITRUM_SEPOLIA]: "0x980B62Da83eFf3D4576C647993b0c1D7faf17c73",
};

// RPC URLs
export const RPC_URLS: Record<number, string> = {
  [CHAIN_IDS.SEPOLIA]:
    process.env.SEPOLIA_RPC_URL ||
    "https://sepolia.infura.io/v3/YOUR_INFURA_KEY",
  [CHAIN_IDS.BASE_SEPOLIA]:
    process.env.BASE_SEPOLIA_RPC_URL || "https://sepolia.base.org",
  [CHAIN_IDS.OPTIMISM_SEPOLIA]:
    process.env.OPTIMISM_SEPOLIA_RPC_URL || "https://sepolia.optimism.io",
  [CHAIN_IDS.ARBITRUM_SEPOLIA]:
    process.env.ARBITRUM_SEPOLIA_RPC_URL ||
    "https://sepolia-rollup.arbitrum.io/rpc",
};

// Order server configuration
export const ORDER_SERVER_CONFIG = {
  BASE_URL: "https://order-dev.li.fi",
  WS_URL: "wss://order-dev.li.fi",
  API_VERSION: "v1",
} as const;

// Legacy mappings for backward compatibility
export const compactSettlerAddress = CATALYST_SETTLER_ADDRESS;
export const usdcAddress = USDC_ADDRESS;
export const whOracleAddress = WORMHOLE_ORACLE_ADDRESS;

// Solver configuration
export const solverAddress: Record<number, string> = {
  [CHAIN_IDS.SEPOLIA]: SOLVER_ADDRESS,
  [CHAIN_IDS.BASE_SEPOLIA]: SOLVER_ADDRESS,
  [CHAIN_IDS.OPTIMISM_SEPOLIA]: SOLVER_ADDRESS,
  [CHAIN_IDS.ARBITRUM_SEPOLIA]: SOLVER_ADDRESS,
};

// Supported chains array
export const SUPPORTED_CHAINS = Object.values(CHAIN_IDS);

// Chain names mapping
export const CHAIN_NAMES: Record<number, string> = {
  [CHAIN_IDS.SEPOLIA]: "sepolia",
  [CHAIN_IDS.BASE_SEPOLIA]: "baseSepolia",
  [CHAIN_IDS.OPTIMISM_SEPOLIA]: "optimismSepolia",
  [CHAIN_IDS.ARBITRUM_SEPOLIA]: "arbitrumSepolia",
};
